## The Xajax core library

Xajax is an open source PHP class library for easily creating powerful PHP-driven, web-based Ajax applications.
Using Xajax, you can asynchronously call PHP functions and update the content of your webpage without reloading the page.

This package is the Xajax core library.

#### Installation

The package installs with Composer.

Run `composer require lagdo/xajax-core`, or add `"lagdo/xajax-core": "dev-master"` in your composer.json.

#### Configuration

###### The javascript files

The Xajax javascript is now provided in a separated javascript-only package at [lagdo/xajax-js](https://github.com/lagdo/xajax-js).
By default, the Xajax library is configured to load its javascript files from a shared location online.
However, you can choose to install the javascript files on your own server.
In this case, you will have to setup the files location with a call to `$xajax->setJavascriptURI()`.

By default, the javascript code generated by the Xajax library is included right in the HTML code.
The library can be configured to output its javascript in a file, and then load this file from the HTML of the page.
This is done with a call to `$xajax->mergeJavascript()`, which takes three parameters.
* The first one is the path to a directory where the files will be stored. This directory have to be manually created.
* The second one is an URL that gives access to this directory.
* The third one is a boolean which defaults to true and tells whether the file should be minified or not.

###### Deprecated config options

Some config options of the previous versions of Xajax have been deprecated:
* responseType
* useUncompressedScripts
* deferScriptGeneration
* deferDirectory: 
* javascript URI
* javascript files

Since JSON is the only supported reponse type, it doesn't need to be configured anymore.
All the javascript options are now setup with the `$xajax->setJavascriptURI()` and `$xajax->mergeJavascript()` calls.

#### Usage

The Xajax library classes have been renamed, and they are now all namespaced.
Therefore the code to create the Xajax main object and the Xajax response has changed. 

```
use Xajax\Xajax;
use Xajax\Response\Response;

$xajax = new Xajax();
$xajaxResponse = new Response();
```

###### Request processing

Apart from the javascript code and the deprecated options, there is no other change on how the Xajax library works. 

Some sample codes are provided in the [lagdo/xajax-examples](https://github.com/xajax-examples) package,
which is installed on a demo server [here](http://xajax.lagdo-software.net).
 
###### Permissions Note
Configure your web server's user to give write access to the vendor/lagdo/xajax-core/templates directory. 
Your web server needs permission to create the ajax-core/templates/cache directory, or your otherwise-working code will appear to fail.
See Ubuntu examples below:

`sudo chown www-data vendor/lagdo/xajax-core/templates/cache; `

`sudo chmod u+w vendor/lagdo/xajax-core/templates/cache; `
